{"version":3,"sources":["js/validate.js","js/main.js"],"names":["isValidZip","zip","test","showAlert","message","className","div","document","createElement","appendChild","createTextNode","container","querySelector","form","insertBefore","setTimeout","remove","key","secretKey","petForm","token","addEventListener","fetchAnimals","fetch","body","headers","method","then","res","json","data","access_token","e","preventDefault","animal","value","Authorization","ShowAnimals","animals","catch","err","console","log","results","innerHTML","forEach","image","photos","length","medium","classList","add","name","contact","address","city","state","age","gender","size","email","phone"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"..","sourcesContent":["export function isValidZip(zip) {\n    return /^\\d{5}$/.test(zip);\n}\n\n\n// Display alert Message\nexport function showAlert(message, className) {\n    // Create div\n    const div = document.createElement('div');\n    // Add classes \n    div.className = `alert alert-${className}`;\n    // add text\n    div.appendChild(document.createTextNode(message));\n    // Get container\n    const container = document.querySelector('.container');\n    // Get form\n    const form = document.querySelector('#pet-form');\n    //insert alert\n    container.insertBefore(div, form);\n    // vanish after 3 secs\n    setTimeout(() => document.querySelector('.alert').remove(), 3000);\n}","const key = 'uVk3ijP8FbYvHj2tnltLIgnujlMy5FNblmwxCPBKgm8YCgtRN4';\nconst secretKey = 'M0S8Fy1Cxp5ZRkPhoCiq4sPtIOXBnaJpqgeeR9v1';\nimport { isValidZip, showAlert } from \"./validate\";\n\n// Get Form\nconst petForm = document.querySelector('#pet-form');\nlet token;\npetForm.addEventListener('submit', fetchAnimals);\n\n// Get Token \nfetch(\"https://api.petfinder.com/v2/oauth2/token\", {\n        body: `grant_type=client_credentials&client_id=${key}&client_secret=${secretKey}`,\n        headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\"\n        },\n        method: \"POST\",\n    })\n    .then(res => res.json())\n    .then(data => {\n        token = data.access_token;\n    });\n\n// fetch animals from API\nfunction fetchAnimals(e) {\n    e.preventDefault();\n\n    // Get user input \n    const animal = document.querySelector('#animal').value;\n    const zip = document.querySelector('#zip').value;\n    // Validate zip\n    if (!isValidZip(zip)) {\n        showAlert(\"Invalid zip\", 'danger');\n        return;\n    }\n    // Fetch pets\n    fetch(`https://api.petfinder.com/v2/animals/?type=${animal}&contact.address.postcode=${zip}`, {\n            headers: {\n                Authorization: `Bearer ${token}`\n            }\n        })\n        .then(res => res.json())\n        .then(data => ShowAnimals(data.animals))\n        .catch(err => console.log(err));\n}\n\n// Show Searched Pets\nfunction ShowAnimals(animals) {\n    const results = document.querySelector('#results');\n\n    // clear first\n    results.innerHTML = '';\n\n    // Loop through pets\n    animals.forEach(animal => {\n        let image;\n        // console.log(animal); properties check\n        if (animal.photos.length > 0) {\n            image = animal.photos[0].medium;\n        } else {\n            image = `https://i.pinimg.com/originals/27/3d/b2/273db2bdbe21b9bbdfb5bb89db27c6a8.png`\n        }\n        const div = document.createElement('div');\n        div.classList.add('card', 'card-body', 'mb-3');\n        div.innerHTML += `\n        <div class=\"card mb-3\">\n            <div class=\"row g-0\">\n                <div class=\"col-md-4\">\n                    <img src=\"${image}\" class=\"img-fluid rounded-start h-100\" alt=\"...\">\n                </div>\n                <div class=\"col-md-8\">\n                    <div class=\"card-body\">\n                        <h5 class=\"card-title\">${animal.name}</h5>\n                        <h5 class=\"card-text text-center\">Ciudad: ${animal.contact.address.city}</h5>\n                        <h6 class=\"card-text text-center\">Estado: ${animal.contact.address.state}</h6>\n                        <ul class=\"list-group\">\n                            <li class=\"list-group-item\">Edad: ${animal.age}</li>\n                            <li class=\"list-group-item\">Sexo: ${animal.gender}</li>\n                            <li class=\"list-group-item\">Tamano: ${animal.size}</li>\n                            <li class=\"list-group-item\">Email: ${animal.contact.email}</li>\n                            <li class=\"list-group-item\">Telefono: ${animal.contact.phone}</li>\n                        </ul>\n                    </div>\n                </div>\n            </div>\n        </div>\n        `;\n        results.appendChild(div);\n    });\n\n}"]}